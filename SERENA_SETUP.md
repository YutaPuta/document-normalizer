# Serena ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†å ±å‘Š

## âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çŠ¶æ³

**SerenaãŒæ­£å¸¸ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã€Document Normalizerãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«çµ±åˆã•ã‚Œã¾ã—ãŸï¼**

### ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **Serena Agent**: v0.1.4 
- **Python Language Server**: Pyright 1.1.405
- **MCP Server**: Model Context Protocolå¯¾å¿œ
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š**: `.serena/project.yml` è¨­å®šå®Œäº†

### ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ¸ˆã¿æ©Ÿèƒ½

#### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ èªè­˜
- 17ãƒ•ã‚¡ã‚¤ãƒ«ã®è‡ªå‹•ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–å®Œäº†
- Pythonè¨€èªã‚µãƒ¼ãƒãƒ¼çµ±åˆ
- ã‚·ãƒ³ãƒœãƒ«æ¤œç´¢ã¨ã‚³ãƒ¼ãƒ‰è§£ææ©Ÿèƒ½æœ‰åŠ¹

#### 2. ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢æ©Ÿèƒ½
```
âœ… åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ« (25å€‹):
â€¢ read_file, create_text_file, list_dir
â€¢ find_symbol, find_referencing_symbols  
â€¢ get_symbols_overview
â€¢ search_for_pattern
â€¢ replace_symbol_body, replace_regex
â€¢ insert_after_symbol, insert_before_symbol
â€¢ write_memory, read_memory, list_memories
â€¢ execute_shell_command
â€¢ onboarding, activate_project
```

#### 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®š
```yaml
project_name: "doc-normalizer"
language: python
read_only: false
initial_prompt: |
  Document Normalizer - Azure Functions PDFãƒ—ãƒ­ã‚»ãƒƒã‚·ãƒ³ã‚°ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
  - è«‹æ±‚æ›¸ãƒ»ç™ºæ³¨æ›¸ã®è‡ªå‹•å‡¦ç†
  - æ—¥æœ¬èªãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†å¯¾å¿œ
  - CDMæ­£è¦åŒ–ã¨ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
```

### ğŸš€ åˆ©ç”¨å¯èƒ½ãªæ©Ÿèƒ½

#### ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚³ãƒ¼ãƒ‰æ¤œç´¢
- **é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹æ¤œç´¢**: `find_symbol` ã§é«˜é€Ÿã‚·ãƒ³ãƒœãƒ«æ¤œç´¢
- **å‚ç…§é–¢ä¿‚åˆ†æ**: `find_referencing_symbols` ã§ä¾å­˜é–¢ä¿‚è¿½è·¡
- **ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œç´¢**: `search_for_pattern` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨ªæ–­æ¤œç´¢

#### ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ç·¨é›†
- **ã‚·ãƒ³ãƒœãƒ«å˜ä½ç·¨é›†**: `replace_symbol_body` ã§é–¢æ•°ãƒ»ã‚¯ãƒ©ã‚¹ç½®æ›
- **æ­£è¦è¡¨ç¾ç·¨é›†**: `replace_regex` ã§ç²¾å¯†ãªéƒ¨åˆ†ç·¨é›†
- **æŒ¿å…¥æ“ä½œ**: `insert_after_symbol`, `insert_before_symbol`

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨˜æ†¶ã‚·ã‚¹ãƒ†ãƒ 
- **æ°¸ç¶šãƒ¡ãƒ¢ãƒª**: `write_memory` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŸ¥è­˜ä¿å­˜
- **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç¶­æŒ**: ä¼šè©±é–“ã§ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç†è§£ç¶™ç¶š

### ğŸ¯ Document Normalizerç‰¹åŒ–æ©Ÿèƒ½

#### ã‚³ãƒ¼ãƒ‰ç†è§£æ”¯æ´
```python
# ä¾‹: ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†ã®å…¨ä½“æŠŠæ¡
serena find_symbol "run_pipeline" --include-body

# ä¾‹: æ—¥æœ¬èªå¤‰æ›é–¢æ•°ã®æ¤œç´¢
serena search_for_pattern "zenkaku_to_hankaku"

# ä¾‹: Azure Functionsè¨­å®šã®ç¢ºèª
serena get_symbols_overview "src/main_blob_trigger/__init__.py"
```

#### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- YAMLè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ è§£æ
- ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ«ãƒ¼ãƒ«ã®ä¾å­˜é–¢ä¿‚è¿½è·¡
- CDMã‚¹ã‚­ãƒ¼ãƒã¨ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯

#### æ—¥æœ¬èªå‡¦ç†ã‚³ãƒ¼ãƒ‰æ”¯æ´
- å¤‰æ›é–¢æ•°ã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜
- å’Œæš¦ãƒ»é€šè²¨å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã®ç†è§£
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆæ”¯æ´

### ğŸ“‹ ä½¿ç”¨æ–¹æ³•

#### 1. MCP Serverèµ·å‹• (Claude Desktopé€£æºç”¨)
```bash
source .venv/bin/activate
serena start-mcp-server --project $(pwd)
```

#### 2. Claude Codeçµ±åˆ
- Claude CodeãŒè‡ªå‹•çš„ã«serenaãƒ„ãƒ¼ãƒ«ã‚’èªè­˜
- ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ¤œç´¢ãƒ»ç·¨é›†æ©Ÿèƒ½ãŒåˆ©ç”¨å¯èƒ½
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¶­æŒã—ãŸä¼šè©±ãŒå¯èƒ½

#### 3. é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¾‹
1. **ã‚³ãƒ¼ãƒ‰ç†è§£**: `find_symbol`ã§é–¢æ•°å®šç¾©ç¢ºèª
2. **å½±éŸ¿ç¯„å›²èª¿æŸ»**: `find_referencing_symbols`ã§ä¾å­˜é–¢ä¿‚æŠŠæ¡
3. **å®Ÿè£…å¤‰æ›´**: `replace_symbol_body`ã§å®‰å…¨ãªç·¨é›†
4. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: `execute_shell_command`ã§ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡Œ

### ğŸ” ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµæœ
```
âœ… Health check passed - All tools working correctly
- Language server: æ­£å¸¸å‹•ä½œ
- Symbol indexing: 17ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†å®Œäº†
- Search functions: æ­£å¸¸å‹•ä½œ
- Memory system: ä½¿ç”¨å¯èƒ½
```

### ğŸ‰ å°å…¥åŠ¹æœ

**Document Normalizeré–‹ç™ºãŒåŠ‡çš„ã«åŠ¹ç‡åŒ–ã•ã‚Œã¾ã™:**

1. **ğŸ” é«˜é€Ÿã‚³ãƒ¼ãƒ‰æ¤œç´¢**: å¤§è¦æ¨¡ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã§ã‚‚ç¬æ™‚ã«ã‚·ãƒ³ãƒœãƒ«ç™ºè¦‹
2. **ğŸ§  ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç¶­æŒ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã®æ§‹é€ ã‚’å¸¸ã«æŠŠæ¡
3. **âœï¸ ç²¾å¯†ç·¨é›†**: ã‚·ãƒ³ãƒœãƒ«å˜ä½ã§ã®å®‰å…¨ãªã‚³ãƒ¼ãƒ‰å¤‰æ›´
4. **ğŸ“š çŸ¥è­˜è“„ç©**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®çŸ¥è¦‹ã‚’æ°¸ç¶šä¿å­˜
5. **ğŸ¤ Claudeã¨ã®å®Œå…¨çµ±åˆ**: è‡ªç„¶è¨€èªã§ã®ã‚³ãƒ¼ãƒ‰æ“ä½œ

---

**ğŸš€ Serenaã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼Document Normalizeré–‹ç™ºã®ç”Ÿç”£æ€§ãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã—ãŸï¼**